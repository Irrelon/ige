/*
* Kendo UI Web v2012.2.710 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI Web commercial licenses may be obtained at http://kendoui.com/web-license
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3.
* For GPL requirements, please review: http://www.gnu.org/copyleft/gpl.html
*/
;(function(a,b){function v(a,b,c){r(a,h,c,b>=c)}function u(a,b,c){r(a,j,Math.min(c,b+1),b>=c)}function t(a,b,c){r(a,i,Math.max(1,b-1),b<=1)}function s(a,b,c){r(a,g,1,b<=1)}function r(a,b,d,e){a.find(b).parent().attr(c.attr("page"),d).toggleClass("k-state-disabled",e)}function q(a,b){return o({className:a.substring(1),text:b})}function p(a,b,d,e){return a({idx:b,text:d,ns:c.ns,numeric:e})}var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=".k-i-seek-w",h=".k-i-seek-e",i=".k-i-arrow-w",j=".k-i-arrow-e",k="change",l="click",m="keydown",n="disabled",o=c.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),w=e.extend({init:function(b,d){var n=this,o,p;e.fn.init.call(n,b,d),d=n.options,n.dataSource=d.dataSource,n.linkTemplate=c.template(n.options.linkTemplate),n.selectTemplate=c.template(n.options.selectTemplate),o=n.page(),p=n.totalPages(),n._refreshHandler=f(n.refresh,n),n.dataSource.bind(k,n._refreshHandler),d.previousNext&&(n.element.find(g).length||(n.element.append(q(g,d.messages.first)),s(n.element,o,p)),n.element.find(i).length||(n.element.append(q(i,d.messages.previous)),t(n.element,o,p))),d.numeric&&(n.list=n.element.find(".k-pager-numbers"),n.list.length||(n.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(n.element))),d.input&&(n.element.find(".k-pager-input").length||n.element.append('<span class="k-pager-input k-label">'+d.messages.page+'<input class="k-textbox">'+c.format(d.messages.of,p)+"</span>"),n._keydownHandler=f(n._keydown,n),n.element.on(m,".k-pager-input input",n._keydownHandler)),d.previousNext&&(n.element.find(j).length||(n.element.append(q(j,d.messages.next)),u(n.element,o,p)),n.element.find(h).length||(n.element.append(q(h,d.messages.last)),v(n.element,o,p))),d.pageSizes&&(n.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+d.messages.itemsPerPage+"</span>").appendTo(n.element).find("select").html(a.map(a.isArray(d.pageSizes)?d.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(n.element),n.element.find(".k-pager-sizes select").val(n.pageSize()),c.ui.DropDownList&&n.element.find(".k-pager-sizes select").kendoDropDownList(),n._changeHandler=f(n._change,n),n.element.on(k,".k-pager-sizes select",n._changeHandler)),d.refresh&&(n.element.find(".k-pager-refresh").length||n.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+d.messages.refresh+'"><span class="k-icon k-i-refresh">'+d.messages.refresh+"</span></a>"),n._reloadHandler=f(n._refreshClick,n),n.element.on(l,".k-pager-refresh",n._reloadHandler)),d.info&&(n.element.find(".k-pager-info").length||n.element.append('<span class="k-pager-info k-label" />')),n._clickHandler=f(n._click,n),n.element.on(l,"a",n._clickHandler),d.autoBind&&n.refresh()},destroy:function(){var a=this;a.element.off(l,"a",a._clickHandler),a.element.off(m,".k-pager-input input",a._keydownHandler),a.element.off(k,".k-pager-sizes select",a._changeHandler),a.element.off(l,".k-pager-refresh",a._reloadHandler),a.dataSource.unbind(k,a._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},refresh:function(){var a=this,b,d,e=1,f="",g,h=a.page(),i=a.options,j=a.pageSize(),k=a.dataSource.total(),l=a.totalPages(),m=a.linkTemplate,o=i.buttonCount;if(i.numeric){h>o&&(g=h%o,e=g===0?h-o+1:h-g+1),d=Math.min(e+o-1,l),e>1&&(f+=p(m,e-1,"...",!1));for(b=e;b<=d;b++)f+=p(b==h?a.selectTemplate:m,b,b,!0);d<l&&(f+=p(m,b,"...",!1)),f===""&&(f=a.selectTemplate({text:0})),a.list.html(f)}i.info&&(k>0?f=c.format(i.messages.display,(h-1)*j+1,Math.min(h*j,k),k):f=i.messages.empty,a.element.find(".k-pager-info").html(f)),i.input&&a.element.find(".k-pager-input").html(a.options.messages.page+'<input class="k-textbox">'+c.format(i.messages.of,l)).find("input").val(h).attr(n,k<1).toggleClass("k-state-disabled",k<1),i.previousNext&&(s(a.element,h,l),t(a.element,h,l),u(a.element,h,l),v(a.element,h,l)),i.pageSizes&&a.element.find(".k-pager-sizes select").val(j)},_keydown:function(a){if(a.keyCode===c.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),d=parseInt(b.val(),10);if(isNaN(d)||d<1||d>this.totalPages())d=this.page();b.val(d),this.page(d)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(b){var d=a(b.currentTarget);b.preventDefault(),d.is(".k-state-disabled")||this.page(d.attr(c.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){if(a!==b)this.dataSource.page(a),this.trigger(k,{index:a});else return this.dataSource.total()>0?this.dataSource.page():0}});d.plugin(w)})(jQuery);